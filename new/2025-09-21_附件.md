# 智能角色切换提示词 - MCP服务依赖清单

## MCP服务分类说明

### 真正的MCP服务
这些是通过Model Context Protocol标准提供的服务，需要通过MCP客户端连接：

| 服务名称 | 服务说明 | 官网/GitHub地址 |
|---------|---------|----------------|
| **zhi (寸止)** | 智能交互确认系统 | https://github.com/agassiz/cunzhi |
| **ji (寸止记忆)** | 全局记忆管理系统 | https://github.com/agassiz/cunzhi |
| **Context7** | 官方文档查询服务 | https://github.com/upstash/context7 |
| **deepwiki** | GitHub项目文档查询服务 | https://deepwiki.com |
| **web-search** | 网络搜索服务 | https://github.com/modelcontextprotocol/servers |
| **browser_snapshot_Playwright** | 浏览器截图工具 | https://github.com/modelcontextprotocol/servers |
| **sequentialthinking** | 链式思维推理引擎 | https://github.com/modelcontextprotocol/servers |

### 系统内置命令/工具
这些是AI助手内置的基础功能，不需要额外安装：

| 工具名称 | 工具说明 | 类型 |
|---------|---------|------|
| **codebase-retrieval** | 代码库检索引擎 | Augment内置工具 |
| **view** | 文件查看工具 | 系统内置命令 |
| **str-replace-editor** | 文件编辑工具 | 系统内置命令 |
| **save-file** | 文件创建工具 | 系统内置命令 |
| **remove-files** | 文件删除工具 | 系统内置命令 |
| **launch-process** | 进程启动工具 | 系统内置命令 |
| **diagnostics** | 代码诊断工具 | 系统内置命令 |
| **git-commit-retrieval** | Git提交历史检索 | Augment内置工具 |

### 需要自定义实现的服务
这些服务在提示词中被引用，但需要自定义实现：

| 服务名称 | 状态 | 备注 |
|---------|------|------|
| **add_tasks** | 需要自定义实现 | 任务管理工具 |
| **update_tasks** | 需要自定义实现 | 任务更新工具 |
| **view_tasklist** | 需要自定义实现 | 任务列表查看工具 |

---

## 真正的MCP服务安装说明

### 1. zhi (寸止 - 智能交互确认系统)
**GitHub**: https://github.com/agassiz/cunzhi
**说明**: AI对话"早泄"终结者，让交流持续到底

```bash
# macOS 安装
brew tap imhuso/cunzhi && brew install cunzhi

# 其他系统手动下载
# 访问 https://github.com/imhuso/cunzhi/releases
# 下载对应系统版本并添加到PATH
```

### 2. Context7 (官方文档查询)
**GitHub**: https://github.com/upstash/context7
**说明**: 为LLM和AI代码编辑器提供最新代码文档

```bash
# 通过NPM安装
npx -y @upstash/context7-mcp --api-key YOUR_API_KEY

# 或通过Smithery安装
npx -y @smithery/cli@latest install @upstash/context7-mcp --client <CLIENT_NAME>
```

### 3. deepwiki (GitHub项目文档查询)
**官网**: https://deepwiki.com
**说明**: 为每个仓库提供可对话的最新文档

```bash
# 通过官方MCP服务器仓库查找deepwiki实现
# 具体安装方法需要查看官方文档
```

### 4. web-search (网络搜索)
**GitHub**: https://github.com/modelcontextprotocol/servers

```bash
# 从官方MCP服务器仓库安装
npm install @modelcontextprotocol/server-web-search
```

### 5. browser_snapshot_Playwright (浏览器截图)
**官网**: https://playwright.dev
**GitHub**: https://github.com/modelcontextprotocol/servers

```bash
# 安装Playwright MCP服务
npm install @modelcontextprotocol/server-playwright
# 安装浏览器
npx playwright install
```

### 6. sequentialthinking (链式思维推理)
**GitHub**: https://github.com/modelcontextprotocol/servers

```bash
# 从官方MCP服务器仓库安装
npm install @modelcontextprotocol/server-sequential-thinking
```

### 7. 需要自定义实现的服务

#### 任务管理服务 (add_tasks, update_tasks, view_tasklist)
```bash
# 这些是自定义任务管理MCP服务
# 需要实现任务的CRUD操作
# 可以参考MCP官方文档创建：https://modelcontextprotocol.io
```

---

## 系统内置工具说明

以下工具通常是AI助手的内置功能，无需额外安装：

### Augment内置工具
- **codebase-retrieval**: Augment的代码库检索引擎
- **git-commit-retrieval**: Augment的Git历史检索工具

### 标准系统工具
- **view**: 文件查看命令
- **str-replace-editor**: 文件编辑工具
- **save-file**: 文件创建工具
- **remove-files**: 文件删除工具
- **launch-process**: 进程启动工具
- **diagnostics**: 代码诊断工具

---

## MCP客户端配置示例

### Claude Desktop配置
在Claude Desktop的配置文件中添加MCP服务：

```json
{
  "mcpServers": {
    "寸止": {
      "command": "寸止"
    },
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "YOUR_API_KEY"]
    },
    "web-search": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-web-search"],
      "env": {
        "GOOGLE_SEARCH_API_KEY": "your-api-key"
      }
    },
    "playwright": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-playwright"]
    }
  }
}
```

### 验证MCP服务
```bash
# 检查MCP服务器列表
# 访问官方仓库查看可用服务
# https://github.com/modelcontextprotocol/servers

# 测试寸止服务
寸止 --help

# 测试Context7服务
npx -y @upstash/context7-mcp --help

# 查看MCP服务器大全
# https://github.com/yzfly/Awesome-MCP-ZH
# https://github.com/punkpeye/awesome-mcp-servers
# https://mcp.so/
```

---

## 重要说明

### 1. 服务存在性确认
- **确认存在**: zhi (寸止), Context7, deepwiki, web-search, playwright, sequentialthinking
- **需要实现**: 任务管理服务 (add_tasks, update_tasks, view_tasklist)
- **系统内置**: view, str-replace-editor, save-file, remove-files, launch-process, diagnostics
- **Augment专有**: codebase-retrieval, git-commit-retrieval

### 2. 重要发现
- **寸止 (zhi/ji)**: 真实存在的开源项目，专门解决AI对话提前终止问题
- **Context7**: Upstash官方MCP服务，提供最新代码文档
- **MCP生态**: 已有近8000个MCP服务器可用 (mcp.so)

### 3. 推荐配置
- **核心必需**: codebase-retrieval, view, str-replace-editor (系统内置)
- **强烈推荐**: 寸止 (解决AI提前终止), Context7 (最新文档)
- **可选增强**: deepwiki, web-search, playwright

### 4. 开发建议
1. 优先安装寸止，解决AI对话提前终止问题
2. 配置Context7获取最新技术文档
3. 从MCP服务器大全选择需要的功能服务
4. 仅需自定义实现任务管理相关服务
5. 参考 https://github.com/yzfly/Awesome-MCP-ZH 获取更多服务
